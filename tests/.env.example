# E2E Test Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# Test API Key (Required for most tests)
# ============================================
# Shared secret for test authentication.
# Must match TEST_API_KEY in worker wrangler secrets.
TEST_API_KEY=

# Base URL for the todo.mdx worker (production is default)
WORKER_BASE_URL=https://todo.mdx.do

# ============================================
# MCP Server (uses TEST_API_KEY for auth)
# ============================================
# Base URL for the MCP server (usually same as WORKER_BASE_URL)
MCP_BASE_URL=https://todo.mdx.do

# ============================================
# GitHub App (Required for GitHub sync tests)
# ============================================
# GitHub App ID from https://github.com/settings/apps
GITHUB_APP_ID=your_app_id
# GitHub App private key (base64 encoded or raw PEM format)
# Get from GitHub App settings → Generate a private key
GITHUB_PRIVATE_KEY=your_private_key_here
# Installation ID for the test repository (dot-do/test.mdx)
# Find in GitHub App settings → Installations or via API
GITHUB_INSTALLATION_ID=your_installation_id
# Webhook secret for validating GitHub webhook signatures
# Set in GitHub App settings → Webhook secret
GITHUB_WEBHOOK_SECRET=your_webhook_secret

# ============================================
# Linear (Optional - for Linear integration tests)
# ============================================
# Linear API key from https://linear.app/settings/api
# Required only for linear-integration.test.ts
LINEAR_API_KEY=your_linear_api_key
# Linear team ID for creating test issues
# Find via Linear API or in team settings URL
LINEAR_TEAM_ID=your_team_id

# ============================================
# Site URLs (Optional - defaults shown)
# ============================================
# Base URL for the main todo.mdx site
SITE_BASE_URL=https://todo.mdx.do
# Base URL for the Payload admin dashboard
ADMIN_BASE_URL=https://admin.mdx.do

# ============================================
# Test Fixtures (Optional)
# ============================================
# Directory containing test MDX files and fixtures
# Default points to the test.mdx submodule
FIXTURES_DIR=./fixtures/test.mdx

# ============================================
# Test Repository Configuration (Optional)
# ============================================
# Override default test repository (dot-do/test.mdx)
# TEST_REPO_OWNER=dot-do
# TEST_REPO_NAME=test.mdx
