---
id: todo-y5lg
title: "Patterns.ts has orphaned variable declaration inside function docstring"
state: open
priority: 3
type: chore
labels: ["cleanup", "code-review", "patterns", "src"]
createdAt: "2025-12-24T11:15:25.898Z"
updatedAt: "2025-12-24T11:15:25.898Z"
source: "beads"
---

# Patterns.ts has orphaned variable declaration inside function docstring

**File:** src/patterns.ts:172-183

There's a variable declaration orphaned inside the JSDoc comment:

```typescript
/**
 * Apply a pattern to an issue to generate a filename
 *
  let skipNextLiteral = false   // <-- This line is INSIDE the docstring!

 * @param pattern - The pattern to apply (e.g., "[id]-[title].md")
 * @param issue - The issue to generate filename for
 * @param existingFiles - Optional list of existing files to avoid collisions
 * @returns The generated filename
 */
export function applyPattern(pattern: string, issue: TodoIssue, existingFiles?: string[]): string {
  const tokens = parsePattern(pattern)
  let result = ''
  let previousToken: PatternToken | null = null
  let skipNextLiteral = false  // Actual declaration here
```

**Impact:** This appears to be a copy-paste error during editing. The code works because `skipNextLiteral` is properly declared inside the function, but this leftover in the docstring is confusing and suggests incomplete refactoring.

**Recommendation:** Remove the orphaned `let skipNextLiteral = false` line from inside the JSDoc comment.