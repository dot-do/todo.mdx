---
id: todo-203p
title: "sync.ts creates issues without using provided ID"
state: open
priority: 0
type: bug
labels: ["code-review", "data-integrity", "src", "sync"]
createdAt: "2025-12-24T11:14:47.621Z"
updatedAt: "2025-12-24T11:14:47.621Z"
source: "beads"
---

# sync.ts creates issues without using provided ID

**File:** src/sync.ts:214-223, 343-348

When creating a new issue in beads from a file, the `toCreateOptions` function doesn't include the issue ID:

```typescript
function toCreateOptions(issue: TodoIssue): CreateOptions {
  return {
    title: issue.title,
    type: issue.type,
    priority: issue.priority,
    description: issue.description,
    assignee: issue.assignee,
    labels: issue.labels,
    // Missing: id: issue.id
  }
}
```

Then in the sync loop:
```typescript
const createResult = await createIssue(toCreateOptions(issue), { cwd: beadsDir })
if (createResult.success) {
  result.created.push(issue.id)  // Uses original ID but beads generated a new one
}
```

**Impact:** Issues created from files will get new beads-generated IDs, breaking the link between the file and the beads issue. On next sync, it will appear as two different issues.

**Recommendation:** Check if beads-workflows' createIssue supports an `id` option, and if so, pass it. Otherwise, update the file after creation with the new ID.