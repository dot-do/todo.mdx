{"id":"gh-1","title":"Roadmap: autonomous ToDo, roadmap, and development SDLC","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T12:09:26Z","updated_at":"2025-12-21T12:09:26Z"}
{"id":"todo-00h0","title":"Create BeadsSyncWorkflow class","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-21T07:44:44.494492-06:00","updated_at":"2025-12-21T14:04:05Z"}
{"id":"todo-01p","title":"Web IDE layout: file tree + Monaco + terminal","description":"Create the full IDE layout combining file tree, Monaco editor, and terminal.\n\n## Layout Design\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  [todo.mdx]  Session: abc123  â”‚  ðŸ‘¤ User  â”‚  ðŸ¤– Claude: working â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚          â”‚  src/index.ts                              [x]      â”‚\nâ”‚ EXPLORER â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚\nâ”‚          â”‚                                                     â”‚\nâ”‚ â–¼ src    â”‚  import { Hono } from 'hono'                        â”‚\nâ”‚   index  â”‚                                                     â”‚\nâ”‚   utils  â”‚  const app = new Hono()                             â”‚\nâ”‚ â–¼ tests  â”‚                                                     â”‚\nâ”‚   app.te â”‚  app.get('/', (c) => {                              â”‚\nâ”‚ package. â”‚    return c.text('Hello!')                          â”‚\nâ”‚ tsconfig â”‚  })                                                 â”‚\nâ”‚          â”‚                                                     â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ TERMINAL                                          [+] [â–¡] [Ã—]  â”‚\nâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ”‚ $ claude-code --task \"add user authentication\"                 â”‚\nâ”‚ â ‹ Analyzing codebase...                                        â”‚\nâ”‚                                                                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Component Structure\n\n```tsx\n// apps/todo.mdx.do/app/ide/[sessionId]/page.tsx\nimport { ResizablePanelGroup, ResizablePanel, ResizableHandle } from '@/components/ui/resizable'\n\nexport default function IDEPage({ params }: { params: { sessionId: string } }) {\n  const { sessionId } = params\n  const [openFiles, setOpenFiles] = useState<string[]>([])\n  const [activeFile, setActiveFile] = useState<string | null>(null)\n  const [fileContents, setFileContents] = useState<Map<string, string>>(new Map())\n\n  return (\n    <div className=\"h-screen flex flex-col bg-background\">\n      {/* Header */}\n      <header className=\"h-10 border-b flex items-center px-4 gap-4\">\n        <Logo />\n        <span className=\"text-sm text-muted-foreground\">\n          Session: {sessionId.slice(0, 8)}\n        </span>\n        <div className=\"ml-auto flex items-center gap-2\">\n          <SessionStatus sessionId={sessionId} />\n          <ClaudeStatus sessionId={sessionId} />\n        </div>\n      </header>\n\n      {/* Main IDE Area */}\n      <ResizablePanelGroup direction=\"horizontal\" className=\"flex-1\">\n        {/* File Tree */}\n        <ResizablePanel defaultSize={20} minSize={15} maxSize={40}>\n          <FileTree\n            sessionId={sessionId}\n            selectedPath={activeFile}\n            onSelectFile={(path) => {\n              if (!openFiles.includes(path)) {\n                setOpenFiles([...openFiles, path])\n              }\n              setActiveFile(path)\n              loadFile(path)\n            }}\n          />\n        </ResizablePanel>\n\n        <ResizableHandle />\n\n        {/* Editor + Terminal */}\n        <ResizablePanel defaultSize={80}>\n          <ResizablePanelGroup direction=\"vertical\">\n            {/* Editor Area */}\n            <ResizablePanel defaultSize={70} minSize={30}>\n              <div className=\"h-full flex flex-col\">\n                {/* Tabs */}\n                <div className=\"h-9 border-b flex items-center overflow-x-auto\">\n                  {openFiles.map(file => (\n                    <EditorTab\n                      key={file}\n                      path={file}\n                      active={file === activeFile}\n                      dirty={isDirty(file)}\n                      onClick={() => setActiveFile(file)}\n                      onClose={() => closeFile(file)}\n                    />\n                  ))}\n                </div>\n\n                {/* Monaco Editor */}\n                <div className=\"flex-1\">\n                  {activeFile && (\n                    <SandboxEditor\n                      sessionId={sessionId}\n                      file={{\n                        path: activeFile,\n                        content: fileContents.get(activeFile) || ''\n                      }}\n                      onSave={() => markClean(activeFile)}\n                      onChange={(content) => updateContent(activeFile, content)}\n                    />\n                  )}\n                </div>\n              </div>\n            </ResizablePanel>\n\n            <ResizableHandle />\n\n            {/* Terminal */}\n            <ResizablePanel defaultSize={30} minSize={10}>\n              <div className=\"h-full flex flex-col\">\n                <div className=\"h-8 border-b flex items-center px-2 gap-2\">\n                  <span className=\"text-xs font-medium\">TERMINAL</span>\n                  <div className=\"ml-auto flex gap-1\">\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\n                      <Plus size={12} />\n                    </Button>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\n                      <Maximize2 size={12} />\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"flex-1\">\n                  <Terminal\n                    wsUrl={`wss://todo.mdx.do/api/terminal/${sessionId}`}\n                  />\n                </div>\n              </div>\n            </ResizablePanel>\n          </ResizablePanelGroup>\n        </ResizablePanel>\n      </ResizablePanelGroup>\n    </div>\n  )\n}\n```\n\n## Tab Component\n\n```tsx\nfunction EditorTab({ path, active, dirty, onClick, onClose }: TabProps) {\n  const filename = path.split('/').pop()\n  \n  return (\n    <div\n      className={cn(\n        'h-full px-3 flex items-center gap-2 border-r cursor-pointer',\n        active ? 'bg-background' : 'bg-muted/50'\n      )}\n      onClick={onClick}\n    >\n      <FileIcon filename={filename!} size={14} />\n      <span className=\"text-sm\">{filename}</span>\n      {dirty && <span className=\"w-2 h-2 rounded-full bg-yellow-500\" />}\n      <button\n        className=\"ml-1 hover:bg-muted rounded p-0.5\"\n        onClick={(e) => {\n          e.stopPropagation()\n          onClose()\n        }}\n      >\n        <X size={12} />\n      </button>\n    </div>\n  )\n}\n```\n\n## Keyboard Shortcuts\n\n```typescript\nuseEffect(() => {\n  const handleKeyDown = (e: KeyboardEvent) => {\n    // Cmd+S - Save\n    if ((e.metaKey || e.ctrlKey) && e.key === 's') {\n      e.preventDefault()\n      saveCurrentFile()\n    }\n    // Cmd+P - Quick open\n    if ((e.metaKey || e.ctrlKey) && e.key === 'p') {\n      e.preventDefault()\n      openQuickOpen()\n    }\n    // Cmd+` - Toggle terminal\n    if ((e.metaKey || e.ctrlKey) && e.key === '`') {\n      e.preventDefault()\n      toggleTerminal()\n    }\n    // Cmd+B - Toggle sidebar\n    if ((e.metaKey || e.ctrlKey) && e.key === 'b') {\n      e.preventDefault()\n      toggleSidebar()\n    }\n  }\n  \n  window.addEventListener('keydown', handleKeyDown)\n  return () => window.removeEventListener('keydown', handleKeyDown)\n}, [])\n```\n\n## Session State Sync\n\nKeep editor in sync with Claude's changes:\n```typescript\n// Subscribe to file changes from sandbox\nuseEffect(() => {\n  const ws = new WebSocket(`wss://todo.mdx.do/api/files/watch?session=${sessionId}`)\n  \n  ws.onmessage = (e) => {\n    const { type, path, content } = JSON.parse(e.data)\n    \n    if (type === 'modified' && openFiles.includes(path)) {\n      // File was modified by Claude\n      if (!isDirty(path)) {\n        // Auto-reload if no local changes\n        setFileContents(prev => new Map(prev).set(path, content))\n      } else {\n        // Show conflict dialog\n        showConflictDialog(path, content)\n      }\n    }\n    \n    if (type === 'created' || type === 'deleted') {\n      refreshFileTree()\n    }\n  }\n  \n  return () => ws.close()\n}, [sessionId, openFiles])\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T13:52:43.234008-06:00","updated_at":"2025-12-21T14:04:04Z","closed_at":"2025-12-20T14:26:29.046464-06:00"}
{"id":"todo-48dg","title":"E2E: Webhook signature verification returning 401","description":"test: webhook-signature.test.ts\n\nWebhook with valid signature returns 401 instead of accepting the request.\n\nExpected: Valid signature should not return 401\nActual: Returns 401\n\nThis indicates the webhook signature validation middleware may have a bug, or the test environment is missing required credentials.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-21T08:09:41.049396-06:00","updated_at":"2025-12-21T14:10:26Z"}
{"id":"todo-ebw3","title":"CI failing: pnpm-lock.yaml is gitignored","description":"All CI runs are failing because pnpm-lock.yaml is in .gitignore.\n\nThe CI workflow uses 'pnpm install --frozen-lockfile' which requires the lockfile to exist. Since it's gitignored, CI fails at the Setup Node.js step with:\n  Dependencies lock file is not found. Supported file patterns: pnpm-lock.yaml\n\nImpact:\n- Build & Test job fails immediately\n- E2E Tests are skipped (depend on ci job)\n- No CI has passed in the recent history\n\nFix:\n1. Remove pnpm-lock.yaml from .gitignore\n2. Commit pnpm-lock.yaml\n3. Push to trigger new CI run","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-21T08:01:10.895098-06:00","updated_at":"2025-12-21T14:10:26Z"}
{"id":"todo-huns","title":"E2E: Session deletion returning 401 instead of 404","description":"test: session-do.test.ts - concurrent session stress test\n\nSession deletion and status check endpoints return 401 instead of expected 404.\n\nExpected: Deleted session status should return 404 (not found)\nActual: Returns 401 (unauthorized)\n\nThis suggests authentication is required for session operations that should be public, or the session ID extraction is failing.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-21T08:09:46.938921-06:00","updated_at":"2025-12-21T14:10:27Z"}
{"id":"todo-j4y3","title":"CI failing: pnpm-lock.yaml is gitignored","description":"All CI runs are failing because `pnpm-lock.yaml` is in `.gitignore`.\n\nThe CI workflow uses `pnpm install --frozen-lockfile` which requires the lockfile to exist. Since it's gitignored, CI fails at the \"Setup Node.js\" step with:\n```\nDependencies lock file is not found. Supported file patterns: pnpm-lock.yaml\n```\n\n**Impact:**\n- Build & Test job fails immediately\n- E2E Tests are skipped (depend on ci job)\n- No CI has passed in the recent history\n\n**Fix:**\n1. Remove `pnpm-lock.yaml` from `.gitignore`\n2. Commit `pnpm-lock.yaml`\n3. Push to trigger new CI run","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-21T08:00:57.806334-06:00","updated_at":"2025-12-21T08:01:59.552511-06:00","closed_at":"2025-12-21T08:01:59.552511-06:00"}
{"id":"todo-lw7s","title":"CI failing: pnpm-lock.yaml is gitignored","description":"All CI runs are failing because `pnpm-lock.yaml` is in `.gitignore`.\n\nThe CI workflow uses `pnpm install --frozen-lockfile` which requires the lockfile to exist. Since it's gitignored, CI fails at the \"Setup Node.js\" step with:\n```\nDependencies lock file is not found. Supported file patterns: pnpm-lock.yaml\n```\n\n**Impact:**\n- Build & Test job fails immediately\n- E2E Tests are skipped (depend on ci job)\n- No CI has passed in the recent history\n\n**Fix:**\n1. Remove `pnpm-lock.yaml` from `.gitignore`\n2. Commit `pnpm-lock.yaml`\n3. Push to trigger new CI run","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-21T08:00:46.434369-06:00","updated_at":"2025-12-21T08:01:59.553259-06:00","closed_at":"2025-12-21T08:01:59.553259-06:00"}
{"id":"todo-rxla","title":"E2E: Session DO embed page missing cmd/args","description":"test: session-do.test.ts\n\nThe embed page test is failing because the returned HTML doesn't contain the expected cmd and args data.\n\nExpected: HTML should contain '\"node\"' and '[\"-v\"]'\nActual: HTML contains WorkOS sign-in page instead of session embed\n\nThis suggests the session embed endpoint is redirecting to auth when it should render the session page.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-21T08:09:35.082357-06:00","updated_at":"2025-12-21T14:10:26Z"}