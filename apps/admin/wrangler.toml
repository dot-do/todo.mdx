name = "admin-todo-mdx"
account_id = "b6641681fe423910342b9ffa1364c76d"  # .do account
main = "src/rpc.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# D1 Database for Payload
[[d1_databases]]
binding = "D1"
database_name = "todo-mdx"
database_id = "7773cb8c-af79-4ae9-8473-342acbbc0444"

# R2 Bucket for media storage
[[r2_buckets]]
binding = "R2"
bucket_name = "todo-mdx-media"

# Environment variables
# PAYLOAD_SECRET (set via wrangler secret put PAYLOAD_SECRET)

# Build command disabled - type errors need fixing
# [build]
# command = "pnpm build"

[env.production]
name = "admin-todo-mdx"

[env.staging]
name = "admin-todo-mdx-staging"
